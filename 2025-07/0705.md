# ğŸ“… 2025-07-05 TIL

---

## Programmers ì½”ë”© ê¸°ì´ˆ íŠ¸ë ˆì´ë‹
ì˜¤ëŠ˜ì€ ì½”ë”© ë¬¸ì œ 10ë¬¸ì œë¥¼ í’€ì—ˆë‹¤. ëª‡ëª‡ ë¬¸ì œëŠ” ì•½ê°„ ì‹œê°„ì´ ê±¸ë ¸ë‹¤.

### [í™€ìˆ˜ vs ì§ìˆ˜](https://school.programmers.co.kr/learn/courses/30/lessons/181887)
```java
class Solution {
    public int solution(int[] num_list) {
        int a = 0;
        int b = 0;
        for(int i = 0; i < num_list.length; i++){
            if(i % 2 == 0){
                a += num_list[i];
            } else {
                b += num_list[i];
            }
        }
        if(a > b){
            return a;
        } else {
            return b;
        }
    }
}
```
---
### [5ëª…ì”©](https://school.programmers.co.kr/learn/courses/30/lessons/181886)
```java
import java.util.ArrayList;
import java.util.List;

class Solution {
    public String[] solution(String[] names) {
        List<String> list = new ArrayList<>();
        for(int i = 0 ; i < names.length; i++){
            if (i % 5 == 0){
                list.add(names[i]);
            }
        }
        String[] result = new String[list.size()];
        for(int i = 0; i < result.length; i++){
            result[i] = list.get(i);
        }
        
        return result;
    }
}
```
---
### [í•  ì¼ ëª©ë¡](https://school.programmers.co.kr/learn/courses/30/lessons/181885)
```java
import java.util.ArrayList;
import java.util.List;

class Solution {
    public String[] solution(String[] todo_list, boolean[] finished) {
        String[] answer = {};
        List<String> list = new ArrayList<>();
        for(int i = 0; i < finished.length; i++){
            if(!finished[i]){
                list.add(todo_list[i]);
            }
        }
        answer = new String[list.size()];
        for(int i = 0; i < answer.length; i++){
            answer[i] = list.get(i);
        }
        return answer;
    }
}
```
---
### [në³´ë‹¤ ì»¤ì§ˆ ë•Œê¹Œì§€ ë”í•˜ê¸°](https://school.programmers.co.kr/learn/courses/30/lessons/181884)
```java
class Solution {
    public int solution(int[] numbers, int n) {
        int answer = 0;
        for(int i = 0; i < numbers.length; i++){
            answer += numbers[i];
            if(answer > n){
                return answer;
            }
        }
        return answer;
    }
}
```
---
### [ìˆ˜ì—´ê³¼ êµ¬ê°„ ì¿¼ë¦¬1](https://school.programmers.co.kr/learn/courses/30/lessons/181883)
```java
class Solution {
    public int[] solution(int[] arr, int[][] queries) {
        for(int i = 0; i < queries.length; i++){
            for(int j = queries[i][0]; j <= queries[i][1]; j++){
                arr[j] += 1;
            }
        }
        return arr;
    }
}
```
ì´ ë¬¸ì œëŠ” 2ì°¨ì› ë°°ì—´ì´ ì‚¬ìš©ë˜ì—ˆëŠ”ë° ìµìˆ™í•˜ì§€ ì•Šì•„ì„œ ê·¸ëŸ°ì§€ ì‹œê°„ì´ ì•½ê°„ ê±¸ë ¸ì—ˆë‹¤.
ê·¸ë˜ë„ ì´ë²ˆ ê¸°íšŒì— ì´ ë¬¸ì œ í’€ì–´ë³´ë©´ì„œ ì¡°ê¸ˆì€ ìµìˆ™í•´ì§„ ê²ƒ ê°™ë‹¤.
---
### [ì¡°ê±´ì— ë§ê²Œ ìˆ˜ì—´ ë°˜í™˜í•˜ê¸°1](https://school.programmers.co.kr/learn/courses/30/lessons/181882)
```java
class Solution {
    public int[] solution(int[] arr) {
        for(int i = 0; i < arr.length; i++){
            if(arr[i] >= 50 && arr[i] % 2 == 0){
                arr[i] /= 2;
            } else if(arr[i] < 50 && arr[i] % 2 == 1){
                arr[i] *= 2;
            }
        }
        return arr;
    }
}
```
---
### [ì¡°ê±´ì— ë§ê²Œ ìˆ˜ì—´ ë°˜í™˜í•˜ê¸°2](https://school.programmers.co.kr/learn/courses/30/lessons/181881)
```java
import java.util.Arrays;

class Solution {
    public int solution(int[] arr) {
        int answer = 0;
        while(true){
            int[] save = Arrays.copyOf(arr, arr.length);
            for(int i = 0; i < arr.length; i++){
                if(arr[i] >= 50 && arr[i] % 2 == 0){
                    arr[i] /= 2;
                } else if (arr[i] < 50 && arr[i] % 2 == 1) {
                    arr[i] = (arr[i] * 2) + 1;
                }
            }
            answer++;
            
            if (Arrays.equals(save, arr)) {
                answer--; 
                break;
            }
        }
        return answer;
    }
}
```
ì´ ë¬¸ì œë¥¼ í’€ë©´ì„œ `Arrays.copyOf` ë©”ì„œë“œë¥¼ ì²˜ìŒ ì‚¬ìš©í•´ë³´ì•˜ë‹¤.
ë°°ì—´ì„ ë³µì‚¬ ë¶™ì—¬ë„£ê¸°ë¥¼ í•  ë•Œ ì‚¬ìš©í•˜ë©´ ê½¤ë‚˜ ìœ ìš©í•œ ê²ƒ ê°™ë‹¤.
---
### [1ë¡œ ë§Œë“¤ê¸°](https://school.programmers.co.kr/learn/courses/30/lessons/181880)
```java
class Solution {
    public int solution(int[] num_list) {
        int answer = 0;
        for(int i = 0; i < num_list.length; i++){
            while(num_list[i] != 1){
                if(num_list[i] % 2 == 0){
                    num_list[i] /= 2;
                    answer++;
                } else if (num_list[i] % 2 == 1) {
                    num_list[i] = (num_list[i] - 1) / 2;
                    answer++;
                }
            }
        }
        return answer;
    }
}
```
---
### [ê¸¸ì´ì— ë”°ë¥¸ ì—°ì‚°](https://school.programmers.co.kr/learn/courses/30/lessons/181879)
```java
class Solution {
    public int solution(int[] num_list) {
        int answer = 0;
        if (num_list.length >= 11){
            for(int i = 0; i < num_list.length; i++){
                answer += num_list[i];
            }
            return answer;
        }
        if (num_list.length <= 10) {
            answer = 1;
            for(int i = 0; i < num_list.length; i++){
                answer *= num_list[i];
            }
            return answer;
        }
        return answer;
    }
}
```
ì´ê±´ ë¬¸ì œ ë³´ê³  ë°”ë¡œ í’€ì–´ë‚´ë‹¤ê°€ `if (num_list.length <= 10)`ë¶€ë¶„ì—ì„œ ë§‰íˆê¸¸ë˜
ì›ì¸ì´ ë­ì§€... í•˜ê³  ë´¤ë‹¤ê°€ `answer`ê°€ 0ì´ì—¬ì„œ ì—ëŸ¬ê°€ ë‚¬ì—ˆë‹¤.(0ì—ì„œ ê³±í•˜ë©´ ëª¨ë‘ 0ì´ì—¬ì„œ)
---
### [ì›í•˜ëŠ” ë¬¸ìì—´ ì°¾ê¸°](https://school.programmers.co.kr/learn/courses/30/lessons/181878)
```java
class Solution {
    public int solution(String myString, String pat) {
        String first = myString.toLowerCase();
        String second = pat.toLowerCase();
        
        if(first.contains(second)){
            return 1;
        } else {
            return 0;
        }
    }
}
```
---
## Java í•™ìŠµ(ê³ ê¸‰ ë™ê¸°í™” - concurrent.Lock)
 - ì˜¤ëŠ˜ì€ Synchronizedì˜ ë‹¨ì ì„ ë³´ì™„í•œ Lockì— ëŒ€í•´ í•™ìŠµí•˜ì˜€ë‹¤.
 - `concurrent.locks`ì—ëŠ” ì„¸ ê°€ì§€ ì¢…ë¥˜ê°€ ìˆì—ˆë‹¤.
   - `concurrent.locks.LockSupport`
   - `concurrent.locks.Lock`
   - `concurrent.locks.ReentrantLock`

### LockSupport
 - `synchronized`ì˜ í° ë‹¨ì ì¸ ë¬´í•œ ëŒ€ê¸° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì¶”ê°€ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.
 - `park()`, `unpark()`, `parkNanos()` ë©”ì„œë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.
   - `park()` : ìŠ¤ë ˆë“œë¥¼ ëŒ€ê¸° ìƒíƒœë¡œ ë³€í™˜í•œë‹¤.
   - `unpark()` : ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰ ìƒíƒœë¡œ ë³€í™˜í•œë‹¤.
   - `parkNanos()` : íŠ¹ì • ì‹œê°„ ì´í›„ ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰ ìƒíƒœë¡œ ë³€í™˜í•œë‹¤.

**ì˜ˆì‹œì½”ë“œ**
```java
package thread.sync.lock;

import java.util.concurrent.locks.LockSupport;

import static util.MyLogger.log;
import static util.ThreadUtils.sleep;

public class LockSupportMainV1 {
    public static void main(String[] args) {
        Thread thread1 = new Thread(new ParkTest(), "Thread-1");
        thread1.start();

        // ì ì‹œ ëŒ€ê¸°í•˜ì—¬ Thread-1ì´ park ìƒíƒœì— ë¹ ì§ˆ ì‹œê°„ì„ ì¤Œ
        sleep(100);
        log("Thread-1 state: " + thread1.getState());

        log("main -> unpark(Thread-1)");
        LockSupport.unpark(thread1);
    }
    static class ParkTest implements Runnable{

        @Override
        public void run() {
            log("park ì‹œì‘");
            LockSupport.park();
            log("park ì¢…ë£Œ, state: " + Thread.currentThread().getState());
            log("ì¸í„°ëŸ½íŠ¸ ìƒíƒœ: " + Thread.currentThread().isInterrupted());
        }
    }
}
```
ê·¸ëŸ¬ë‚˜ `LockSupport`ëŠ” ë„ˆë¬´ ì €ìˆ˜ì¤€ì´ë‹¤.
Synchronizedì²˜ëŸ¼ Lockì„ `Runnable`ë¡œ ë°”ê¾¸ê±°ë‚˜
ëª» ì–»ìœ¼ë©´ `park()`ì„ í•´ì„œ ëŒ€ê¸° ìƒíƒœ, 
ì„ê³„ ì˜ì—­ ì‹¤í–‰ì´ ëë‚˜ë©´ `unpark()` ì‚¬ìš©í•´ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œ ê¹¨ìš°ê¸°,
`parkNanos()` ì‚¬ìš©í•´ì„œ ì˜¤ë˜ ëŒ€ê¸°í•œ ìŠ¤ë ˆë“œ ì–µì§€ë¡œ ê¹¨ìš°ê¸° ë“±
ëª¨ë“  ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ê²Œ ì–´ë µë‹¤.
ê·¸ëŸ¬ë‚˜ ìë°”ëŠ” `Lock` ì¸í„°í˜ì´ìŠ¤ì™€ `ReentrantLock`ì´ë¼ëŠ” êµ¬í˜„ì²´ê°€ ìˆë‹¤.

## ReentrantLock
 - `synchronized`ì˜ ë‹¨ì ì—ëŠ” ë¬´í•œ ëŒ€ê¸°ì™€ ê³µì •ì„±ì´ ìˆë‹¤.
 - ë¬´í•œ ëŒ€ê¸°ëŠ” íŠ¹ì • ìŠ¤ë ˆë“œê°€ ë½ì´ í’€ë¦´ ë•Œê¹Œì§€ ë¬´í•œ ëŒ€ê¸°í•˜ëŠ” í˜„ìƒì´ë‹¤.
 - ê³µì •ì„±ì€ ë½ì´ ëŒì•„ì™”ì„ ë•Œ ì–´ë–¤ ìŠ¤ë ˆë“œê°€ ë½ì„ íšë“í• ì§€ ëª¨ë¥¸ë‹¤ëŠ” ê²ƒì´ë‹¤.
 - ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ReentrantLockì´ë¼ëŠ” ê°œë…ì´ ìƒê²¼ë‹¤.

**Lock ì¸í„°í˜ì´ìŠ¤**
```java
package java.util.concurrent.locks;

public interface Lock {
 void lock();
 void lockInterruptibly() throws InterruptedException;
 boolean tryLock();
 boolean tryLock(long time, TimeUnit unit) throws InterruptedException;
 void unlock();
}
```
í•˜ë‚˜í•˜ë‚˜ ë©”ì„œë“œë¥¼ ë³´ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
 - `void lock()` : ë½ì„ íšë“í•œë‹¤. ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë½ì„ íšë“í–ˆë‹¤ë©´ ëŒ€ê¸°í•œë‹¤. ì¸í„°ëŸ½íŠ¸ì— ë°˜ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.
 - `void lockInterruptibly()` : ë½ íšë“ì„ ì‹œë„í•œë‹¤. `void lock()`ê³¼ ê°™ì€ ê°œë…ì´ë‚˜, ì¸í„°ëŸ½íŠ¸ì— ë°˜ì‘í•œë‹¤ëŠ” ì°¨ì´ì ì´ ìˆë‹¤. 
 - `boolean tryLock()` : ë½ íšë“ì„ ì‹œë„í•˜ê³  ì„±ê³µ ì—¬ë¶€ë¥¼ ë°”ë¡œ ë°˜í™˜í•œë‹¤. ì¦‰, ì‹¤íŒ¨í•˜ë©´ ë°”ë¡œ falseë¥¼ ë°˜í™˜í•œë‹¤.
 - `boolean tryLock(long time, TimeUnit unit)` : ì‹œê°„ ì œí•œì„ ë‘ì–´ ë½ íšë“ì„ ì‹œë„í•˜ê³  ì„±ê³µ ì—¬ë¶€ë¥¼ ë°”ë¡œ ë°˜í™˜í•œë‹¤.
 - `void unlock()` : ë½ì„ í•´ì œí•œë‹¤. ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë½ì„ íšë“í•  ìˆ˜ ìˆë‹¤.
í•´ë‹¹ ë©”ì„œë“œë“¤ì„ í†µí•´ ë¬´í•œ ëŒ€ê¸° ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
**ê³µì •ì„±**
ì•„ì§ ë‚¨ì•„ ìˆëŠ” synchronizedì˜ ë¬¸ì œì ì¸ ê³µì •ì„±ì„ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬
Lockì˜ ëŒ€í‘œì ì¸ êµ¬í˜„ì²´ì¸ `ReentrantLock` êµ¬í˜„ì²´ê°€ ìˆë‹¤.
í•´ë‹¹ êµ¬í˜„ì²´ë¥¼ í†µí•´ ê³µì •ì„±ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.
**ì‚¬ìš© ì˜ˆì‹œ**
```java
import java.util.concurrent.locks.ReentrantLock;
public class ReentrantLockEx {
     // ë¹„ê³µì • ëª¨ë“œ ë½
     private final Lock nonFairLock = new ReentrantLock();
     // ê³µì • ëª¨ë“œ ë½
     private final Lock fairLock = new ReentrantLock(true);
     public void nonFairLockTest() {
     nonFairLock.lock();
     try {
     // ì„ê³„ ì˜ì—­
     } finally {
         nonFairLock.unlock();
        }
     }
     public void fairLockTest() {
         fairLock.lock(); 
         try {
            // ì„ê³„ ì˜ì—­
         } finally {
            fairLock.unlock();
         }  
     }
}
```
ì—¬ê¸°ì„œ ë¹„ê³µì • ëª¨ë“œì™€ ê³µì • ëª¨ë“œë¡œ ë‚˜ë‰˜ê²Œ ëœë‹¤.
 - ë¹„ê³µì • ëª¨ë“œ
   - ë½ì„ ë¹ ë¥´ê²Œ íšë“í•œë‹¤.
   - ìˆœì„œë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤.
   - íŠ¹ì • ìŠ¤ë ˆë“œê°€ ì¥ì‹œê°„ ë½ì„ íšë“í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤.
 - ê³µì • ëª¨ë“œ
   - ìŠ¤ë ˆë“œê°€ ë“¤ì–´ì˜¨ ìˆœì„œëŒ€ë¡œ ë½ì„ ë¶€ì—¬í•œë‹¤.
   - ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.
   - ëª¨ë“  ìŠ¤ë ˆë“œê°€ ë½ì„ ë¶€ì—¬ë°›ëŠ” ê³µì •ì„±ì„ ë³´ì¥í•œë‹¤.
